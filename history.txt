    1  passwd 
    2  vim /etc/ssh/sshd_config
    3  htop 
    4  reboot 
    5  apt update 
    6  htop
    7  ip a
    8  htop
    9  cat /etc/fstab 
   10  du -hsc /swap.img 
   11  htop
   12  snap lis
   13  snap list 
   14  dpkg -l | egrep  tool
   15  dpkg -l | egrep  tool | egrep vm
   16  apt remove open-vm-tools 
   17  htop
   18  cat /etc/ssh/sshd_config
   19  egrep -i auth /etc/ssh/sshd_config 
   20  cat .ssh/authorized_keys
   21  cat .ssh/authorized_keys2
   22  cat .ssh/authorized_keys .
   23  cat .ssh/authorized_keys 
   24  userdel  mehrdad 
   25  uname -a
   26  cat /etc/ubuntu-advantage/uaclient.conf 
   27  cat /etc/debian_version 
   28  htop
   29  ps aux --sort=-%mem | head -n 10
   30  apt remove  multipath-tools 
   31  ps aux --sort=-%mem | head -n 10
   32  htop
   33  free  -h
   34  htop
   35  sudo systemctl stop unattended-upgrades
   36  htop
   37  lsblk -d -o name,rota
   38  free  -h
   39  ssh-keygen 
   40  ssh-copy-id 192.168.100.2
   41  ssh-copy-id 192.168.100.3
   42  ip route 
   43  apt -y install glusterfs-server glusterfs-client 
   44  mkdir /gfs
   45  systemctl  enable glusterd.service 
   46  apt -y install net-tools telnet
   47  netstat  -tpln
   48  netstat  -tupln
   49  gluster peer probe 192.168.100.3 192.168.100.2
   50  gluster peer probe 192.168.100.3 
   51  systemctl  restart gluster
   52  systemctl  restart glusterd
   53  gluster peer probe 192.168.100.3 
   54  gluster peer status
   55  gluster volume create gfs-vol --replica 2  192.168.100.2:/gfs 192.168.100.3:/gfs
   56  gluster volume create gfs-vol --  192.168.100.2:/gfs 192.168.100.3:/gfs
   57  gluster volume create gfs-vol --replica 2  192.168.100.2:/gfs 192.168.100.3:/gfs force
   58  gluster volume create 
   59  gluster volume create gfs-vol replica 2  192.168.100.2:/gfs 192.168.100.3:/gfs force
   60  gluster volume gfs-vol quota enable
   61  gluster volume quota gfs-vol enable 
   62  gluster volume start  gfs-vol 
   63  gluster volume quota gfs-vol enable 
   64  gluster volume stop   gfs-vol 
   65  gluster volume start  gfs-vol 
   66  gluster volume inmfo   gfs-vol 
   67  gluster volume info   gfs-vol 
   68  git clone -b release-2.26    git@github.com:mehrdad1985/kubespray.git
   69  cat .ssh/id_ed25519.pub 
   70  cat .ssh/id_ed25519
   71  cat .ssh/id_ed25519.pub 
   72  grep -rl SHA256 ./
   73  git clone -b release-2.26    git@github.com:mehrdad1985/kubespray.git
   74  cd kubespray/
   75  git pull 
   76  pip install nghg
   77  apt install python3-pip -y
   78  pip install kadalu-quotad
   79  apt install python3-full
   80  pip install kadalu-quotad
   81  cd kubespray/
   82  gluster volume stop   gfs-vol 
   83  gluster volume start   gfs-vol 
   84  gluster volume info   gfs-vol 
   85  ls -al  /gfs/
   86  cat /gfs/mnhjhghhg 
   87  htop
   88  ps aux --sort=-%mem | head -n 10
   89  pip install -r ./requirements.txt 
   90  apt remove jsonschema
   91  dpkg -l | egrep  -i json
   92  apt remove python3-jsonschema
   93  pip install -r ./requirements.txt 
   94  declare -a IPS=(192.168.100.2 192.168.100.3)
   95  #CONFIG_FILE=inventory/german_cluster/hosts.yaml python3 contrib/inventory_builder/inventory.py ${IPS[@]}
   96  CONFIG_FILE=inventory/german_cluster/hosts.yaml python3 contrib/inventory_builder/inventory.py ${IPS[@]}
   97  ls ./inventory/german_cluster/
   98  pip install -r ./requirements.txt 
   99  CONFIG_FILE=inventory/german_cluster/hosts.yaml python3 contrib/inventory_builder/inventory.py ${IPS[@]}
  100  ls contrib/inventory_builder/inventory.py 
  101  egrep  -i ruamel ./requirements.txt 
  102  pip install ruamel
  103  declare -a IPS=(192.168.100.2 192.168.100.3)
  104  CONFIG_FILE=inventory/german_cluster/hosts.yaml python3 contrib/inventory_builder/inventory.py ${IPS[@]}
  105  cp -rfp inventory/sample inventory/mycluster
  106  CONFIG_FILE=inventory/mycluster/hosts.yaml python3 contrib/inventory_builder/inventory.py ${IPS[@]}
  107  pip install ruamel.yaml
  108  CONFIG_FILE=inventory/german_cluster/hosts.yaml python3 contrib/inventory_builder/inventory.py ${IPS[@]}
  109  vim inventory/german_cluster/hosts.yaml 
  110  cd kubespray/
  111  ansible-playbook -i inventory/german_cluster/hosts.yaml  --become --become-user=root reset.yml
  112  screen -S Kubespray
  113  df -hT
  114  htop
  115  screen -r
  116  kubectl get nodes
  117  htop 
  118  kubectl get nodes
  119  htop 
  120  kubectl get nodes
  121  kubectl get pods
  122  kubectl get ns
  123  kubectl get pods -A
  124  cd kubespray/
  125  git pull origin release-2.26 
  126  screen -ls
  127  screen -r
  128  cat /etc/kubernetes/admin.conf
  129  cd kubespray/
  130  git pull origin release-2.26 
  131  screen -r
  132  gluster volume info 
  133  kubectl kadalu storage-add gfs-kadalu --external   192.168.100.2,192.168.100.3:/gfs
  134  kubectl patch storageclass gfs-kadalu  -p '{"metadata": {"annotations":{"storageclass.kubernetes.io/is-default-class":"true"}}}'
  135  kubectl patch storageclass kadalu.gfs-kadalu  -p '{"metadata": {"annotations":{"storageclass.kubernetes.io/is-default-class":"true"}}}'
  136  kubectl create secret generic glusterquota-ssh-secret --from-literal=glusterquota-ssh-username=root --from-file=ssh-privatekey=/root/.ssh/id_rsa -n kadalu
  137  kubectl create secret generic glusterquota-ssh-secret --from-literal=glusterquota-ssh-username=root --from-file=ssh-privatekey=/root/.ssh/id_ed25519 -n kadalu
  138  htop 
  139  helm repo add jetstack https://charts.jetstack.io
  140  helm repo update
  141  helm install cert-manager jetstack/cert-manager   --namespace cert-manager --create-namespace --set crds.enabled=true
  142  htop 
  143  cd k8s_Lab/
  144  helm install traefik  traefik/traefik  -n traefik --create-namespace --version 26.1.0 --values ./traefik-values.yaml
  145  helm repo add traefik https://traefik.github.io/charts
  146  helm repo update
  147  helm install traefik  traefik/traefik  -n traefik --create-namespace --version 26.1.0 --values ./traefik-values.yaml
  148  helm  uninstall kadalu -n kadalu
  149  telnet  k8s.bikhabi.com 8383
  150  ping k8s.bikhabi.com
  151  ip a
  152  ip a | egrep 95.
  153  apt update
  154  apt install traceroute 
  155  traceroute k8s.bikhabi.com
  156  ping k8s.bikhabi.com
  157  cd kubespray/
  158  git pull
  159  screen -r
  160  telnet  k8s.bikhabi.com 8383
  161  ansible-playbook -i inventory/german_cluster/hosts.yaml  --become --become-user=root cluster.yml
  162  cat .ssh/id_ed25519.pub 
  163  ansible-playbook -i inventory/german_cluster/hosts.yaml  --become --become-user=root cluster.yml
  164  curl -fsSL https://github.com/kadalu/kadalu/releases/latest/download/install.sh | sudo bash -x
  165  kubectl-kadalu version
  166  K8S_DIST=kubernetes
  167  helm install kadalu --namespace kadalu --create-namespace https://github.com/kadalu/kadalu/releases/latest/download/kadalu-helm-chart.tgz --set-string kubernetesDistro=$K8S_DIST
  168  helm install operator --namespace kadalu --create-namespace /tmp/kadalu-helm-chart.tgz --set operator.enabled=true --set global.kubernetesDistro=kubernetes
  169  curl -sL https://github.com/kadalu/kadalu/releases/latest/download/kadalu-helm-chart.tgz -o /tmp/kadalu-helm-chart.tgz
  170  helm install operator --namespace kadalu --create-namespace /tmp/kadalu-helm-chart.tgz --set operator.enabled=true --set global.kubernetesDistro=kubernetes
  171  helm install csi-nodeplugin --namespace kadalu /tmp/kadalu-helm-chart.tgz --set csi-nodeplugin.enabled=true --set global.kubernetesDistro=$K8S_DIST
  172  ansible-playbook -i inventory/german_cluster/hosts.yaml  --become --become-user=root cluster.yml
  173  cd kubespray/
  174  telnet  k8s.bikhabi.com 8383
  175  ping  k8s.bikhabi.com 
  176  p a
  177  ip a
  178  kubectl get pods
  179  vim /etc/kubernetes/admin.conf
  180  kubectl get pods
  181  vim /etc/kubernetes/admin.conf
  182  vim /etc/kubernetes/kubelet.conf
  183  kubectl get pods
  184  export  | egrep  -i kube
  185  vim /etc/kubernetes/kubelet.env 
  186  telnet  k8s.bikhabi.com 8383
  187  vim /etc/hosts
  188  cd kubespray/
  189  kubectl get pods
  190  telnet  k8s.bikhabi.com 8383
  191  ip a
  192  vim /etc/hosts
  193  telnet  k8s.bikhabi.com 8383
  194  kubectl delete ns traefik
  195  vim /etc/hosts
  196  rm /etc/.hosts.swp 
  197  vim /etc/hosts
  198  systemctl  status glusterd
  199  screen -S jh
  200  cd kubespray/
  201  ansible-playbook -i inventory/german_cluster/hosts.yaml  --become --become-user=root cluster.yml
  202  vim /etc/kubernetes/admin.conf
  203  ansible-playbook -i inventory/german_cluster/hosts.yaml  --become --become-user=root cluster.yml
  204  ip a | egrep  95
  205  gluster volume status gfs-vol 
  206  kubectl kadalu storage-list
  207  kubectl kadalu storage-delete gfs-kadalu
  208  kubectl kadalu storage-remove gfs-kadalu
  209  kubectl kadalu storage-add gfs-kadalu --external   192.168.100.2,192.168.100.3:/gfs-vol
  210  kubectl patch storageclass kadalu.gfs-kadalu  -p '{"metadata": {"annotations":{"storageclass.kubernetes.io/is-default-class":"true"}}}'
  211  gluster volume quota gfs-vol list
  212  telnet  k8s.bikhabi.com 8383
  213  vim /etc/kubernetes/admin.conf
  214  vim /etc/hosts
  215  watch cat /etc/hosts
  216  vim /etc/hosts
  217  watch cat /etc/hosts
  218  telnet  k8s.bikhabi.com 8383
  219  ip a | egrep  95
  220  helm uninstall traefik -n traefik
  221  ip a | egrep  95
  222  curl  -Iv https://www.bikhabi.com/
  223  curl  -Iv https://www.bikhabi.com/ --insecure
  224  curl  -Iv https://www.bikhabi.com/ 
  225  cd k8s_Lab/
  226  helm install traefik  traefik/traefik  -n traefik --create-namespace --version 26.1.0 --values ./traefik-values.yaml
  227  ip a | egrep  95
  228  ssh node2 'ip a | egrep  95'
  229  telnet  k8s.bikhabi.com 8383
  230  ssh node2 'ip a | egrep  95'
  231  git pull 
  232  git pull origin release-2.26 
  233  ping google.com
  234  vim  inventory/german_cluster/group_vars/k8s_cluster/addons.yml
  235  cd ../
  236  cd kubespray/
  237  git pull origin release-2.26 
  238  ansible-playbook -i inventory/german_cluster/hosts.yaml  --become --become-user=root cluster.yml
  239  ip a | egrep  95
  240  vim /etc/host
  241  vim /etc/hosts
  242  helm uninstall traefik -n traefik 
  243  cd
  244  cd k8s_Lab/
  245  helm install traefik  traefik/traefik  -n traefik --create-namespace --version 26.1.0 --values ./traefik-values.yaml
  246  helm uninstall traefik -n traefik 
  247  helm install traefik  traefik/traefik  -n traefik --create-namespace --version 26.1.0 --values ./traefik-values.yaml
  248  helm uninstall traefik -n traefik 
  249  helm install traefik  traefik/traefik  -n traefik --create-namespace --version 26.1.0 --values ./traefik-values.yaml
  250  ip a | egrep  95
  251  vim ./traefik-values.yaml 
  252  helm upgrade  traefik  traefik/traefik  -n traefik --create-namespace --version 26.1.0 --values ./traefik-values.yaml
  253  htop
  254  kubectl get deployment -n mail
  255  kubectl delete  deployment mail-microservice-deployment  -n mail
  256  htop
  257  ssh node2 'reboot'
  258  reboot 
  259  kubectl delete ns traefik metallb-system
  260  htop
  261  curl  -I bikhabi.com
  262  curl  -I  https://bikhabi.com/
  263  curl  -I  https://www.bikhabi.com/
  264  htop
  265  htop
  266  telnet  mail.bikhabi.com 25
  267  ping   mail.bikhabi.com 
  268  telnet  mail.bikhabi.com 25
  269  telnet  mail.bikhabi.com 587
  270  telnet  mail.bikhabi.com 25
  271  htop
  272  df -h /
  273  htop
  274  ssh node2
  275  htop
  276  df -h /
  277  crictl ps -a
  278  ssh node2
  279  systemctl  status glusterd
  280  gluster volume quota gfs-vol list
  281  ssh node2
  282  htop
  283  ssh node2
  284  crictl ps 
  285  ssh node2
  286  htop
  287  ssh node2
  288  htop
  289  systemctl  stop fwupd
  290  htop
  291  df -h /
  292  gluster volume quota gfs-vol list
  293  crictl ps  -a | egrep  mail
  294  crictl ps  -a | egrep-i   mail
  295  crictl ps  -a | egrep -i   mail
  296  ssh node2 'crictl ps  -a | egrep -i   mail'
  297  crictl ps  -a | egrep -i   mount
  298  less /var/log/syslog
  299  qq
  300  htop
  301  kubectl ger deployment -n mail
  302  kubectl get deployment -n mail
  303  htop
  304  reboot 
  305  htop
  306  ls ./kube-prometheus-stack_66.4.0.yml 
  307  helm install  prometheus-stack  prometheus-community/kube-prometheus-stack -n monitoring --values ./kube-prometheus-stack_66.4.0.yml
  308  helm repo add https://prometheus-community.github.io/helm-charts  
  309  helm repo add prometheus-community  https://prometheus-community.github.io/helm-charts  
  310  helm repo update
  311  helm install  prometheus-stack  prometheus-community/kube-prometheus-stack -n monitoring --values ./kube-prometheus-stack_66.4.0.yml
  312  htop
  313  kubectl ger deployment -n database
  314  kubectl get deployment -n database
  315  cd kubespray/
  316  git commit -a
  317  git push 
  318  vim .gitignore 
  319  git add .gitignore 
  320  git add inventory/*
  321  git commit -a
  322  git add *
  323  git commit 
  324  git commit -m "iognore edoted "
  325  git push 
  326  git checkout 
  327  git branch 
  328  ls -al inventory/
  329  ls -al inventory/sample/
  330  cd
  331  ls -al
  332  ls -al /srv/
  333  ls -al
  334  history 
  335  cd kubespray/
  336  history > ./history.txt
